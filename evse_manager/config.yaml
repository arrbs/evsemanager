name: EVSE Manager
version: "1.1.0"
slug: evse_manager
description: Deterministic EVSE control loop with neon web dashboard
url: "https://github.com/arrbs/evsemanager"
arch:
  - armhf
  - armv7
  - aarch64
  - amd64
  - i386
init: false
startup: application
boot: auto
ingress: true
ingress_port: 5000
panel_icon: mdi:ev-station
panel_title: EVSE Manager
hassio_api: true
homeassistant_api: true
hassio_role: homeassistant
auth_api: true

options:
  # Entity wiring
  charger_switch: "switch.ev_charger"
  charger_current: "number.ev_charger_set_current"
  charger_status: "sensor.ev_charger_status"
  battery_soc: "sensor.ss_battery_soc"
  battery_power: "sensor.ss_battery_power"
  inverter_power: "sensor.ss_inverter_power"
  pv_power: "sensor.total_pv_power"
  auto_enabled_entity: "input_boolean.evse_auto_enabled"

  # Controller behaviour
  auto_enabled_default: true
  tick_seconds: 1.5
  line_voltage_v: 230
  soc_main_max: 95
  small_discharge_margin_w: 200
  probe_max_discharge_w: 1000
  inverter_limit_w: 8000
  inverter_margin_w: 500
  cooldown_s: 5
  waiting_timeout_s: 60
  sensor_latency_s: 25

  log_level: "info"

schema:
  charger_switch: str
  charger_current: str
  charger_status: str
  battery_soc: str?
  battery_power: str?
  inverter_power: str?
  pv_power: str?
  auto_enabled_entity: str?

  auto_enabled_default: bool?
  tick_seconds: float(1,2)?
  line_voltage_v: float(200,260)?
  soc_main_max: float(80,100)?
  small_discharge_margin_w: float(50,500)?
  probe_max_discharge_w: float(200,2000)?
  inverter_limit_w: int(2000,15000)?
  inverter_margin_w: int(100,2000)?
  cooldown_s: float(1,15)?
  waiting_timeout_s: float(10,600)?
  sensor_latency_s: float(5,120)?

  log_level: list(debug|info|warning|error)?
