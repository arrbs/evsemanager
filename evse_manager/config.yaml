name: EVSE Manager
version: "0.1.10"
slug: evse_manager
description: Intelligent EVSE power management with solar optimization
url: "https://github.com/arrbs/evsemanager"
arch:
  - armhf
  - armv7
  - aarch64
  - amd64
  - i386
init: false
startup: application
boot: auto
ingress: true
ingress_port: 5000
panel_icon: mdi:ev-station
panel_title: EVSE Manager
hassio_api: true
homeassistant_api: true
hassio_role: homeassistant
auth_api: true

options:
  # Charger settings
  charger_switch: "switch.ev_charger"
  charger_current: "number.ev_charger_set_current"
  charger_status: "sensor.ev_charger_status"
  charger_allowed_currents: "6,8,10,13,16,20,24"
  charger_step_delay: 10
  
  # Battery sensors (for solar calculation)
  battery_soc: "sensor.ss_battery_soc"
  battery_power: "sensor.ss_battery_power"
  
  # Optional sensors
  voltage_sensor: "sensor.ss_inverter_voltage"
  inverter_power: "sensor.ss_inverter_power"
  
  # Control settings
  mode: "manual"
  update_interval: 5
  grace_period: 600
  hysteresis_watts: 500
  
  log_level: "info"

schema:
  charger_switch: str
  charger_current: str
  charger_status: str
  charger_allowed_currents: str
  charger_step_delay: int(5,60)
  battery_soc: str
  battery_power: str
  voltage_sensor: str?
  inverter_power: str?
  mode: list(auto|manual)
  update_interval: int(1,60)
  grace_period: int(60,3600)
  hysteresis_watts: int(100,5000)
  log_level: list(debug|info|warning|error)
